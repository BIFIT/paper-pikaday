<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../paper-menu/paper-menu.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-item/paper-item.html">
<style type="text/css">.pika-single{z-index:9999;display:block;position:relative}.pika-single.is-hidden{display:none}.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.pika-single:before,.pika-single:after{content:" ";display:table}.pika-single:after{clear:both}.pika-single .pika-lendar{width:360px;background-color:#fff}.pika-single .pika-lendar .pika-title{position:relative;text-align:center}.pika-single .pika-lendar .pika-table{table-layout:fixed;width:100%;border-collapse:collapse;border-spacing:0;border:0}.pika-single .pika-lendar .pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:700;text-align:center}.pika-single .pika-lendar .pika-table abbr{border-bottom:none;cursor:help}.pika-single select{position:absolute;cursor:pointer;z-index:9998;margin:0;left:0;top:5px;opacity:0}.pika-single .pika-label{display:inline-block;position:relative;z-index:9999;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:700;background-color:#fff}.pika-single .pika-prev,.pika-single .pika-next{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:transparent;background-position:center center;background-repeat:no-repeat;background-size:75% 75%;opacity:.5}.pika-single .pika-prev.is-disabled,.pika-single .pika-next.is-disabled{cursor:default;opacity:.2!important}.pika-single .pika-prev:hover,.pika-single .pika-next:hover{opacity:1}.pika-single .pika-prev,.pika-single .is-rtl .pika-next{float:left;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==")}.pika-single .pika-next,.pika-single .is-rtl .pika-prev{float:right;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=")}.pika-single .pika-select{display:inline-block}.pika-single .pika-button{cursor:pointer;display:block;box-sizing:border-box;outline:none;border:none;margin:auto;text-align:center;background-color:transparent;padding:.5em;width:2rem;height:2rem}.pika-single .pika-week{font-size:11px;text-align:center;color:#999}.pika-single .is-today .pika-button{color:#3af;font-weight:700}.pika-single .is-selected .pika-button{background:#3af;color:#fff;border-radius:50%}.pika-single .is-inrange .pika-button{background:#d5e9f7}.pika-single .is-startrange .pika-button{color:#fff;background:#6cb31d;box-shadow:none}.pika-single .is-endrange .pika-button{color:#fff;background:#3af;box-shadow:none}.pika-single .is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.pika-single .pika-lendar .drop-menu{width:160px;display:inline-block}.pika-single .pika-lendar .drop-menu>p{text-align:center;margin:.5em 0 0}.pika-single .pika-lendar .footer paper-icon-button{opacity:.5;vertical-align:text-bottom}.pika-single .pika-lendar .footer paper-icon-button:hover{opacity:1}.pika-single .pika-lendar .drop-menu paper-input-container{padding:0}.pika-single .pika-lendar paper-ripple.style-scope.paper-dropdown-menu{display:block;height:1.5rem}.pika-single .pika-lendar paper-material.dropdown-content.style-scope.paper-menu-button.x-scope.paper-material-0{height:200px}.pika-single .flow-element{display:inline-block;margin-right:3em;vertical-align:top}.pika-single .flow-element input{margin-top:0}.pika-single .flow-element:last-child{margin-right:0}.pika-single button#datepicker-button{margin-bottom:3em}</style>

<script type="application/javascript">"use strict";!function(e,t,n){var a="Минуты",i="Часы",o=function(e,t,n,a){e.addEventListener(t,n,!!a)},s=function(e,t,n,a){e.removeEventListener(t,n,!!a)},r=function(e,n,a){var i;t.createEvent?(i=t.createEvent("HTMLEvents"),i.initEvent(n,!0,!1),i=y(i,a),e.dispatchEvent(i)):t.createEventObject&&(i=t.createEventObject(),i=y(i,a),e.fireEvent("on"+n,i))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},h=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},g=function(e){return e%4===0&&e%100!==0||e%400===0},m=function(e,t){return[31,g(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var a,i;for(a in t)i=void 0!==e[a],i&&"object"==typeof t[a]&&null!==t[a]&&void 0===t[a].nodeName?f(t[a])?n&&(e[a]=new Date(t[a].getTime())):c(t[a])?n&&(e[a]=t[a].slice(0)):e[a]=y({},t[a],n):(n||!i)&&(e[a]=t[a]);return e},D=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Воскресение","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],weekdaysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},_=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},w=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t='<button type="button" class="pika-button pika-day" ',n=[];return e.isDisabled&&(n.push("is-disabled"),t+=" disabled "),e.isToday&&n.push("is-today"),e.isSelected&&(n.push("is-selected"),t+=" active "),e.isInRange&&n.push("is-inrange"),e.isStartRange&&n.push("is-startrange"),e.isEndRange&&n.push("is-endrange"),t+='data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button>",'<td data-day="'+e.day+'" class="'+n.join(" ")+'">'+t+"</td>"},M=function(e,t,n){var a=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-a)/864e5+a.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},k=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},R=function(e){return"<tbody>"+e.join("")+"</tbody>"},x=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+_(e,t)+'">'+_(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},N=function(e,t){var a="";a+='<span class="drop-menu"><p>Часы</p>',a+='<paper-dropdown-menu label="'+i+'" no-animations no-label-float>',a+='<paper-menu class="dropdown-content">';for(var o=0;24>o;o+=2){var s=10>o?"0"+o:o;a+="<paper-item>"+s+"</paper-item>"}return a+="</paper-menu></paper-dropdown-menu></span>",n(function(){Y.bind(e)(t)},0),a},T=function(e,t){var i="";i+='<span class="drop-menu"><p>Минуты</p>',i+='<paper-dropdown-menu label="'+a+'" no-animations no-label-float>',i+='<paper-menu class="dropdown-content">';for(var o=0;60>o;o+=5){var s=10>o?"0"+o:o;i+="<paper-item>"+s+"</paper-item>"}return i+="</paper-menu></paper-dropdown-menu></span>",n(function(){S.bind(e)(t)},0),i},C=function(e,t,n,a,i){var o,s,r,l,u,h=e._o,d=n===h.minYear,f=n===h.maxYear,p='<div class="pika-title">',g=!0,m=!0;for(r=[],o=0;12>o;o++)r.push('<option value="'+(n===i?o-t:12+o-t)+'"'+(o===a?" selected":"")+(d&&o<h.minMonth||f&&o>h.maxMonth?"disabled":"")+">"+h.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+h.i18n.months[a]+'<select class="pika-select pika-select-month" tabindex="-1">'+r.join("")+"</select></div>",c(h.yearRange)?(o=h.yearRange[0],s=h.yearRange[1]+1):(o=n-h.yearRange,s=1+n+h.yearRange),r=[];s>o&&o<=h.maxYear;o++)o>=h.minYear&&r.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");if(u='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+r.join("")+"</select></div>",p+=h.showMonthAfterYear?u+l:l+u,d&&(0===a||h.minMonth>=a)&&(g=!1),f&&(11===a||h.maxMonth<=a)&&(m=!1),0===t){var v='<button type="button" ';v+='class="pika-prev ',g?v+='"':(v+=' is-disabled"',v+=" disabled "),v+=">"+h.i18n.previousMonth,v+="</button>",p+=v}if(t===e._o.numberOfMonths-1){var y='<button type="button"';y+=' class="pika-next ',m?y+='"':(y+=' is-disabled"',y+=" disabled "),y+=">"+h.i18n.nextMonth,y+="</button>",p+=y}return p+="</div>"},E=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+x(e)+R(t)+"</table>"},S=function(e){O.bind(this.el)().value=e},I=function(){return Number.parseInt(O.bind(this)().value||0)},Y=function(e){j.bind(this.el)().value=e},F=function(){return Number.parseInt(j.bind(this)().value||0)},O=function(){return this.querySelector('[label="'+a+'"] paper-input')},j=function(){return this.querySelector('[label="'+i+'"] paper-input')},A=function(e){try{var t=e.querySelectorAll("paper-dropdown-menu")}catch(n){return!1}for(var a=0;a<t.length;a++){var n=t[a];n.opened&&n.close()}},L=function(e,t,n){var a,i,o,s,r;if("PAPER-MATERIAL"===e.tagName){if(a=F.bind(e)(),i=I.bind(e)(),n&&n.calendars){var l=n.calendars[0];o=l.year,s=l.month,r=l.day}}else if(e.el){a=F.bind(e.el)(),i=I.bind(e.el)(),o=e.calendars&&e.calendars[0].year,s=e.calendars&&e.calendars[0].month,r=1;try{r=n.getDate&&n.getDate().getDate()}catch(u){console.warn("date is not select, default by 1")}}return t&&(r=t.getAttribute("data-pika-day"),s=t.getAttribute("data-pika-month"),o=t.getAttribute("data-pika-year")),new Date(o,s,r,a,i)},H=function(n){var s=this,r=s.config(n);s._onMouseDown=function(t){if(s._v){t=t||e.event;var n=t.target||t.srcElement;if(n&&"PAPER-MATERIAL"!==n.tagName){if("PAPER-ITEM"===n.tagName){var o=L(this,null,s),r=n.closest("[label]").getAttribute("label"),l=String(n.textContent);return i===r?(o.setHours(l),s.calendars[0].hour=l):a===r&&(o.setMinutes(l),s.calendars[0].minute=l),s._d=o,void s.setFieldFormat()}if(n.getAttribute("data-pika-year")&&(s._d=L(this,n)),!u(n.parentNode,"is-disabled")){var h=n.closest(".pika-button");if(h&&!h.classList.contains("is-empty")){var d=L(this,h);return void s.setDate(d)}u(n,"pika-prev")?s.prevMonth():u(n,"pika-next")&&s.nextMonth()}if(u(n,"pika-select"))s._c=!0;else{if(A(this),!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},s._onChange=function(t){t=t||e.event;var n=t.target||t.srcElement;n&&(u(n,"pika-select-month")?s.gotoMonth(n.value):u(n,"pika-select-year")&&s.gotoYear(n.value))},s._onInputChange=function(e){var t;e.firedBy!==s&&(t=new Date(Date.parse(r.field.value)),f(t)&&s.setDate(t),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(e){var n=t.activeElement;do if(u(n,"pika-single"))return;while(n=n.parentNode);s._c=!1},s._onClick=function(t){t=t||e.event;var n=t.target||t.srcElement,a=n;if(n){u(n,"pika-select")&&(n.onchange||(n.setAttribute("onchange","return;"),o(n,"change",s._onChange)));do if(u(a,"pika-single")||a===r.trigger)return;while(a=a.parentNode);s._v&&n!==r.trigger&&a!==r.trigger&&s.hide()}},s.el=t.createElement("paper-material"),s.el.elevation=2,s.el.style.backgroundColor="white",s.el.className="pika-single"+(r.isRTL?" is-rtl":""),o(s.el,"ontouchend"in t?"touchend":"mousedown",s._onMouseDown,!0),o(s.el,"change",s._onChange),o(r.field,"keyup",function(e){if(13===e.keyCode){var t=H.convertStringToDate(e.target.value);s.setDate(t),console.log("change date")}}),r.field&&(r.container?r.container.appendChild(s.el):r.bound?t.body.appendChild(s.el):r.field.parentNode.insertBefore(s.el,r.field.nextSibling),o(r.field,"change",s._onInputChange),r.defaultDate||(r.defaultDate=new Date(Date.parse(r.field.value)),r.setDefaultDate=!0));var l=r.defaultDate;f(l)?r.setDefaultDate?s.setDate(l,!0):s.gotoDate(l):s.gotoDate(new Date),r.bound?(this.hide(),o(r.trigger,"click",s._onInputClick),o(r.trigger,"focus",s._onInputFocus),o(r.trigger,"blur",s._onInputBlur)):this.show()};return H.prototype={config:function(e){this._o||(this._o=y({},b,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&(t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),c(t.yearRange)){var a=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||a,t.yearRange[1]=parseInt(t.yearRange[1],10)||a}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(){return H.toFormatDate(this._d)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",r(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,a=this._o.maxDate;f(n)&&n>e?e=n:f(a)&&e>a&&(e=a),this._d=new Date(e.getTime()),this.gotoDate(this._d),this.setFieldFormat()}},setFieldFormat:function(){return null===this.getDate()?!1:(this._o.field&&(this._o.field.value=this.toString(),r(this._o.field,"change",{firedBy:this})),void("function"==typeof this._o.onSelect&&this._o.onSelect.call(this,this.getDate())))},gotoDate:function(e){var t=!0;if(f(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),a=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();a.setMonth(a.getMonth()+1),a.setDate(a.getDate()-1),t=i<n.getTime()||a.getTime()<i}this.calendars=[{day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=D(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=D({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()},setMaxDate:function(e){this._o.maxDate=e},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},nowButton:function(){var e=this,n=t.createElement("paper-icon-button");return n.icon="restore",n.title="Установить текущее время",n.className="nowBtn",n.onclick=function(t){var n=new Date;e.setDate(n)},n},draw:function(e){if(this._v||e){var t=this._o,a=t.minYear,i=t.maxYear,o=t.minMonth,s=t.maxMonth,r="",l=this;this._y<=a&&(this._y=a,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var u=0;u<t.numberOfMonths;u++){var h=this.calendars[u];r+='<div class="pika-lendar">'+C(this,u,h.year,h.month,this.calendars[0].year)+this.render(h.year,h.month,h.hour,h.minute)+'<div class="footer">'+N(this,h.hour)+T(this,h.minute)+"</div></div>"}this.el.innerHTML=r,this.el.querySelector(".footer").appendChild(this.nowButton()),t.bound&&"hidden"!==t.field.type&&n(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw&&n(function(){l._o.onDraw.call(l)},0)}},adjustPosition:function(){var n,a,i,o,s,r,l,u,h,d;if(!this._o.container){if(this.el.style.position="absolute",n=this._o.trigger,a=n,i=this.el.offsetWidth,o=this.el.offsetHeight,s=e.innerWidth||t.documentElement.clientWidth,r=e.innerHeight||t.documentElement.clientHeight,l=e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop,"function"==typeof n.getBoundingClientRect)d=n.getBoundingClientRect(),u=d.left+e.pageXOffset,h=d.bottom+e.pageYOffset;else for(u=a.offsetLeft,h=a.offsetTop+a.offsetHeight;a=a.offsetParent;)u+=a.offsetLeft,h+=a.offsetTop;(this._o.reposition&&u+i>s||this._o.position.indexOf("right")>-1&&u-i+n.offsetWidth>0)&&(u=u-i+n.offsetWidth),(this._o.reposition&&h+o>r+l||this._o.position.indexOf("top")>-1&&h-o-n.offsetHeight>0)&&(h=h-o-n.offsetHeight),this.el.style.left=u+"px",this.el.style.top=h+"px"}},isToday:function(e,t){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),e.getTime()===t.getTime()},render:function(e,t,n,a){var i=this._o,o=new Date,s=m(e,t),r=new Date(e,t,1).getDay(),l=[],u=[];i.firstDay>0&&(r-=i.firstDay,0>r&&(r+=7));for(var h=s+r,d=h;d>7;)d-=7;h+=7-d;for(var c=0,g=0;h>c;c++){var y=new Date(e,t,1+(c-r),n,a),D=f(this._d)?v(y,this._d):!1,b=this.isToday(y,o),_=r>c||c>=s+r,R=i.startRange&&v(i.startRange,y),x=i.endRange&&v(i.endRange,y),N=i.startRange&&i.endRange&&i.startRange<y&&y<i.endRange,T=i.minDate&&y<i.minDate||i.maxDate&&y>i.maxDate||i.disableWeekends&&p(y)||i.disableDayFn&&i.disableDayFn(y),C={day:1+(c-r),month:t,year:e,isSelected:D,isToday:b,isDisabled:T,isEmpty:_,isStartRange:R,isEndRange:x,isInRange:N};u.push(w(C)),7===++g&&(i.showWeekNumber&&u.unshift(M(c-r,t,e)),l.push(k(u,i.isRTL)),u=[],g=0)}return E(i,l)},show:function(){this._v||(d(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(t,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&s(t,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",h(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},H.toFormatDate=function(e){if(!(e instanceof Date))throw"date is not a Date";var t=e.getDate();if(isNaN(e.getDate()))throw"date is NaN";t=10>t?"0"+t:t;var n=e.getMonth()+1;n=10>n?"0"+n:n;var a=e.getFullYear(),i=e.getHours();i=10>i?"0"+i:i;var o=e.getMinutes();return o=10>o?"0"+o:o,t+"."+n+"."+a+" "+i+":"+o},H.convertStringToDate=function(e){var t,n,a,i,o;return t=e.slice(0,2)-0,n=e.slice(3,5)-1,a=e.slice(6,10)-0,i=e.slice(11,13)-0,o=e.slice(14,16)-0,new Date(a,n,t,i,o)},e.Pikaday=H}(window,window.document,window.setTimeout);</script>
<script src="../vanilla-masker/build/vanilla-masker.min.js"></script>

<dom-module id="paper-pikaday">

  <style>
    :host {
      display: inline;
      padding: 1rem 0 0 0;
      position: relative;
      margin-right: 1rem;
      z-index: 0;
      width: 100%;
      height: 100%;
      vertical-align: middle;
      white-space: nowrap;
    }

    input::-webkit-input-placeholder {
      line-height: inherit;
      color: rgba(136, 131, 131, 0.5);
      font-family: DroidSansMono, monospace;
      font-size: inherit;
    }

    input {
      position: absolute;
      font-family: DroidSansMono, monospace;
      font-size: 17px;
      padding: 0;
      margin: 0;
      left: 0;
      outline: none;
      background-color: transparent;
      text-indent: 4px;
      border: none;
      height: auto;
      width: 100%;
      color: rgb(66, 69, 64);
      transition: box-shadow 0.5s ease;
    }

    input[is="iron-input"]:focus {
      border: none;
    }

    input[is="iron-input"] {
      z-index: 2;
    }

    input[disabled] {
      border: none;
      pointer-events: none;
      z-index: 1;
    }

    .label-container,
    .input-container {
      display: inline-block;
      vertical-align: text-top;
    }

    .label-container {
      border: 1px solid transparent;
      box-sizing: border-box;
    }

    .input-container {
      position: relative;
      width: 170px;
    }
  </style>

  <template>

    <div class="label-container">
      <label for$="{{id}}">[[label]]</label>
    </div>

    <div class="input-container">
      <input id$="{{id}}"
             type="text">
      <input type="text"
             disabled
             id="input-mask">
    </div>

  </template>

  <script type="application/javascript">"use strict";Polymer({is:"paper-pikaday",_maskPattern:"99.99.9999 99:99",_placeholder:"ДД.ММ.ГГГГ чч:мм",field:null,properties:{minDate:Date,maxDate:Date,date:Date,id:String},ready:function(){var a=this,e=this.field=this.$$("#"+this.id),t=this.$["input-mask"];e.maxLength=t.maxLength=this._maskPattern.length;for(var r="",i=0;i<this._maskPattern.length;i++){var s=this._maskPattern[i];r+=s.search(/\D/)?" ":s}e.placeholder=this._placeholder,t.placeholder=r;var n=this.minDate||new Date(2015,0,1),h=this.maxDate||new Date;if(!window.hasOwnProperty("Pikaday"))throw"Pikaday is not ready";if(new Pikaday({field:e,showWeekNumber:!0,firstDay:1,numberOfMonths:1,minDate:n,maxDate:h,yearRange:[n.getFullYear(),h.getFullYear()],onSelect:function(e){a.date=e,a.field.value=Pikaday.toFormatDate(e)}}),!window.hasOwnProperty("VMasker"))throw"VMasker is not ready";VMasker(e).maskPattern(this._maskPattern)}});</script>

</dom-module>
