<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>paper-pikaday tests</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <script src="../../../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../../../../bower_components/web-component-tester/browser.js"></script>
  <script src="../../../../../bower_components/test-fixture/test-fixture-mocha.js"></script>
  <script src="../../../../../bower_components/iron-test-helpers/mock-interactions.js"></script>
  <link rel="import" href="../paper-pikaday.html">
  <link rel="import" href="../../../../../bower_components/test-fixture/test-fixture.html">
</head>
<body>
<test-fixture id="ElementPikaday">
  <template>
    <paper-pikaday label="from" id="dateFrom"></paper-pikaday>
  </template>
</test-fixture>
<script>

  suite('<paper-pikaday>', function () {
    var pikaday;
    var document = window.document;

    setup(function () {
      pikaday = fixture('ElementPikaday');
    });

    /**
     * Открытие датапикера
     */
    test('openDatePicker', function (done) {
      pikaday.addEventListener('click', function () {
        var containerPikaLendar = document.querySelectorAll('.pika-lendar');

        expect(containerPikaLendar).to.exist;

        MockInteractions.tap(document.body);
        done();
      });

      MockInteractions.tap(pikaday.getElementsByTagName('input')[0]);

    });

    /**
     * Существование поля ввода
     */
    test('pikaday.field', function (done) {
      expect(pikaday.field).to.exist;

      done();
    });
    /**
     * Проверка на соответствие текущего времени
     */
    test('pikaday.date', function (done) {
      var date = pikaday.properties.date();
      expect(date).to.eql(Date());

      done();
    });

  });


</script>
</body>
</html>
